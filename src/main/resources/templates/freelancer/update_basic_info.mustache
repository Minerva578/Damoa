{{> layout/header}}

<div class="container">
    <!-- 사이드바 -->
    {{> layout/mypage}}

    <!-- 메인 콘텐츠 -->
    <div class="main-content">
        <h1 class="text-center mb-4 font-weight-bold">프리랜서 기본 정보 업데이트</h1>

        <div class="card shadow-sm">
            <div class="card-body">
                <form action="/freelancer/update-basic-info" method="post" enctype="multipart/form-data">
                    <!-- 직무 -->
                    <div class="form-group">
                        <label for="jobPart">직무</label>
                        <select class="form-control" id="jobPart" name="jobPart" required>
                            <option value="">직무 선택</option>
                            {{#careers}}
                            <option value="{{career}}">{{career}}</option>
                            {{/careers}}
                        </select>
                    </div>

                    <!-- 근무 방식 -->
                    <div class="form-group">
                        <label for="workingStyle">근무 방식</label>
                        <select class="form-control" id="workingStyle" name="workingStyle" required>
                            <option value="">근무 방식 선택</option>
                            <option value="재택 근무">재택 근무</option>
                            <option value="출퇴근">출퇴근</option>
                            <option value="파트타임">파트타임</option>
                            <option value="풀타임">풀타임</option>
                        </select>
                    </div>

                    <!-- 희망 연봉 -->
                    <div class="form-group">
                        <label for="expectedSalary">희망 연봉</label>
                        <div class="input-group">
                            <input type="number" name="expectedSalary" id="expectedSalary" min="1" max="1000000" class="form-control" oninput="validateSalary(this)" required>
                            <div class="input-group-append">
                                <span class="input-group-text">만 원</span>
                            </div>
                        </div>
                    </div>

                    <!-- 급여 방식 -->
                    <div class="form-group">
                        <label for="salaryType">급여 방식</label>
                        <select class="form-control" id="salaryType" name="salaryType" required>
                            <option value="시급">시급</option>
                            <option value="월급">월급</option>
                            <option value="프로젝트">프로젝트</option>
                        </select>
                    </div>

                    <!-- 포트폴리오 -->
                    <div class="form-group">
                        <label for="originFileName">포트폴리오</label>
                        <input type="file" id="originFileName" name="mFile" class="form-control" accept=".pdf" onchange="validateFile(this)">
                    </div>

                    <!-- 상세 소개 -->
                    <div class="form-group">
                        <label for="detail">상세 소개</label>
                        <textarea class="form-control" id="detail" name="detail" rows="4"></textarea>
                    </div>

                    <!-- 링크 -->
                    <div class="form-group">
                        <label for="link">링크</label>
                        <input type="url" class="form-control" id="link" name="link" value="">
                    </div>

                    <input type="hidden" name="userId" value="{{userId}}">

                    <button type="submit" class="btn btn-primary btn-lg btn-block">저장</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function validateSalary(input) {
        const maxValue = 1000000;
        if (input.value > maxValue) {
            input.value = maxValue; // 최대값으로 설정
            alert("희망 연봉은 최대 1,000,000까지 입력할 수 있습니다.");
        }
    }

    function validateFile(input) {
        const file = input.files[0];
        if (file && file.type !== "application/pdf") {
            alert("포트폴리오 파일은 PDF 형식만 가능합니다.");
            input.value = ""; // 잘못된 파일을 선택한 경우 입력 필드를 비움
        }
    }
</script>

{{> layout/footer}}
