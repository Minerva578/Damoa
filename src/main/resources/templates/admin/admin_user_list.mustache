{{> admin/admin_header}}

<div class="main-board">
    <!-- 제목 배너 -->
    <h3 class="sub-title" >User List</h3>

    <!-- 유저 리스트 테이블 -->
        <table class="table table-striped">
            <thead>
            <tr>
                <th>아이디</th>
                <th>이메일</th>
                <th>유저네임</th>
                <th>폰번호</th>
                <th>생성날짜</th>
                <th>유저타입</th>
                <th>소셜타입</th>
            </tr>
            </thead>
            <tbody>
            {{#userList}}
                <tr>
                    <td>{{id}}</td>
                    <td>{{email}}</td>
                    <td>{{username}}</td>
                    <td>{{phoneNumber}}</td>
                    <td>{{createdAt}}</td>
                    <td>{{userType}}</td>
                    <td>{{socialType}}</td>
                </tr>
            {{/userList}}
            {{^userList}}
                <tr>
                    <td colspan="7" class="text-center">유저리스트가 없습니다.</td>
                </tr>
            {{/userList}}
            </tbody>
        </table>

    <!-- 페이지네이션 -->
    <nav aria-label="Page navigation">
        <ul class="pagination" id="paginationContainer">
            {{#prevPage}} <!-- 이전 페이지가 있을 때 -->
                <li class="page-item">
                    <a class="page-link" href="?page={{prevPage}}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
            {{/prevPage}}

            <!-- 페이지 번호 표시 -->
            <script>
                const totalPages = {{totalPages}}; // 전체 페이지 수
                const currentPage = {{currentPage}}; // 현재 페이지 (0-based)
                const paginationContainer = document.getElementById("paginationContainer");

                // 페이지 번호 링크 생성
                for (let i = 0; i < totalPages; i++) {
                    const pageItem = document.createElement("li");
                    pageItem.className = "page-item" + (i === currentPage ? " active" : ""); // 현재 페이지에 active 클래스 추가
                    pageItem.innerHTML = `<a class="page-link" href="?page=${i}">${i + 1}</a>`; // 1-based로 표시
                    paginationContainer.appendChild(pageItem);
                }

                // 다음 페이지 링크
                {{#nextPage}}
                    const nextPageItem = document.createElement("li");
                    nextPageItem.className = "page-item";
                    nextPageItem.innerHTML = `<a class="page-link" href="?page={{nextPage}}">다음</a>`;
                    paginationContainer.appendChild(nextPageItem);
                {{/nextPage}}


            </script>
        </ul>
    </nav>


    </body>
    </html>
